exports.id=393,exports.ids=[393],exports.modules={438:(e,t,r)=>{Promise.resolve().then(r.bind(r,67990)),Promise.resolve().then(r.bind(r,37818)),Promise.resolve().then(r.bind(r,78046))},21336:(e,t,r)=>{"use strict";r.d(t,{AuthInitializer:()=>a}),r(43210);var o=r(33877);function a(){return(0,o.j)(),null}r(82296)},33877:(e,t,r)=>{"use strict";r.d(t,{G:()=>s,j:()=>a});var o=r(54864);let a=()=>(0,o.wA)(),s=o.d4},37818:(e,t,r)=>{"use strict";r.d(t,{StoreProvider:()=>o});let o=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call StoreProvider() from the server but StoreProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rexliu/staff-mgmt-tool/frontend/src/providers/StoreProvider.tsx","StoreProvider")},40837:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,Ir:()=>c,UT:()=>n,_F:()=>u,j:()=>s,lC:()=>i,vq:()=>l});var o=r(9317);let a=r(51060).A.create({baseURL:"http://localhost:5001/api"});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let s=(0,o.zD)("tasks/fetchTasks",async(e={})=>{let{page:t=1,limit:r=10,filters:o={}}=e,s=new URLSearchParams({page:t.toString(),limit:r.toString(),...o});return(await a.get(`/tasks?${s}`)).data}),n=(0,o.zD)("tasks/createTask",async e=>(await a.post("/tasks",e)).data),i=(0,o.zD)("tasks/updateTask",async({id:e,updates:t})=>(await a.put(`/tasks/${e}`,t)).data),l=(0,o.zD)("tasks/deleteTask",async e=>(await a.delete(`/tasks/${e}`),e));(0,o.zD)("tasks/fetchTaskStats",async e=>{let t=e?`?userId=${e}`:"";return(await a.get(`/tasks/stats${t}`)).data});let d=(0,o.Z0)({name:"tasks",initialState:{tasks:[],loading:!1,error:null,total:0,page:1,limit:10,filters:{}},reducers:{setFilters:(e,t)=>{e.filters=t.payload,e.page=1},setPage:(e,t)=>{e.page=t.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.tasks=t.payload.data,e.total=t.payload.pagination.total,e.page=t.payload.pagination.page}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch tasks"}).addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.tasks.unshift(t.payload.data),e.total+=1}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to create task"}).addCase(i.fulfilled,(e,t)=>{let r=e.tasks.findIndex(e=>e.id===t.payload.data.id);-1!==r&&(e.tasks[r]=t.payload.data)}).addCase(i.rejected,(e,t)=>{e.error=t.error.message||"Failed to update task"}).addCase(l.fulfilled,(e,t)=>{e.tasks=e.tasks.filter(e=>e.id!==t.payload),e.total-=1}).addCase(l.rejected,(e,t)=>{e.error=t.error.message||"Failed to delete task"})}}),{setFilters:u,setPage:c,clearError:h}=d.actions,m=d.reducer},43663:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>m});var o=r(60687),a=r(51052),s=r(28106),n=r(32288),i=r(55764),l=r(6198);let d="undefined"!=typeof document;var u=r(43210);let c=(0,a.A)({palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}}),h=function(){let e;return d&&(e=document.querySelector('meta[name="emotion-insertion-point"]')??void 0),(0,l.A)({key:"mui-style",insertionPoint:e})}();function m({children:e}){let[t]=(0,u.useState)(h);return(0,o.jsx)(i.C,{value:t,children:(0,o.jsxs)(s.A,{theme:c,children:[(0,o.jsx)(n.Ay,{}),e]})})}},47294:(e,t,r)=>{Promise.resolve().then(r.bind(r,21336)),Promise.resolve().then(r.bind(r,59219)),Promise.resolve().then(r.bind(r,43663))},59219:(e,t,r)=>{"use strict";r.d(t,{StoreProvider:()=>u});var o=r(60687),a=r(43210),s=r(54864),n=r(9317),i=r(82296),l=r(40837);let d=()=>(0,n.U1)({reducer:{auth:i.Ay,tasks:l.Ay}});function u({children:e}){let t=(0,a.useRef)(void 0);return t.current||(t.current=d()),(0,o.jsx)(s.Kq,{store:t.current,children:e})}},61135:()=>{},67990:(e,t,r)=>{"use strict";r.d(t,{AuthInitializer:()=>o});let o=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call AuthInitializer() from the server but AuthInitializer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rexliu/staff-mgmt-tool/frontend/src/components/AuthInitializer.tsx","AuthInitializer")},70003:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var o=r(51060);let a="http://localhost:5001/api",s=o.A.create({baseURL:a,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let n={async login(e){console.log("\uD83C\uDF10 AuthService: Making API call to:",`${a}/auth/login`),console.log("\uD83D\uDCE7 AuthService: Sending credentials:",{email:e.email,password:"***"});try{let t=await s.post("/auth/login",e);return console.log("\uD83D\uDCE1 AuthService: API response received:",t.data),console.log("✅ AuthService: Response status:",t.status),t.data.token&&(localStorage.setItem("token",t.data.token),console.log("\uD83D\uDCBE AuthService: Token saved to localStorage"),document.cookie=`token=${t.data.token}; path=/; max-age=86400`,console.log("\uD83C\uDF6A AuthService: Token saved to cookies")),t.data}catch(r){console.error("\uD83D\uDEA8 AuthService: API call failed:",r),console.error("\uD83D\uDCC4 Error response data:",r.response?.data),console.error("\uD83D\uDD22 Error status:",r.response?.status),console.error("\uD83D\uDD17 Error config:",r.config),console.error("\uD83D\uDCA5 Full error object:",r);let e=r.response?.data?.message||r.message||"Login failed",t=r.response?.status||"Unknown";throw console.error("\uD83C\uDFAF Throwing error with message:",e,"status:",t),Error(`${e} (Status: ${t})`)}},async register(e){let t=await s.post("/auth/register",e);return t.data.token&&(localStorage.setItem("token",t.data.token),document.cookie=`token=${t.data.token}; path=/; max-age=86400`),t.data},getProfile:async()=>(await s.get("/auth/profile")).data,logout(){localStorage.removeItem("token"),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},getToken:()=>localStorage.getItem("token")}},78046:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>o});let o=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rexliu/staff-mgmt-tool/frontend/src/providers/ThemeProvider.tsx","ThemeProvider")},82296:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,Lx:()=>s,Nu:()=>h,l2:()=>i,ri:()=>d});var o=r(9317),a=r(70003);let s=(0,o.zD)("auth/login",async e=>await a.y.login(e)),n=(0,o.zD)("auth/register",async e=>await a.y.register(e)),i=(0,o.zD)("auth/fetchProfile",async()=>await a.y.getProfile()),l=(0,o.Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,loading:!1,error:null},reducers:{logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null,a.y.logout()},clearError:e=>{e.error=null},setCredentials:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.error=null},initializeAuth:(e,t)=>{console.log("\uD83D\uDD27 Redux: initializeAuth called with token:",t.payload.token?"YES":"NO"),t.payload.token?(e.token=t.payload.token,e.isAuthenticated=!0,console.log("✅ Redux: Auth initialized with token")):console.log("❌ Redux: No token found, user not authenticated")}},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{console.log("\uD83D\uDD04 Redux: loginUser.fulfilled action received:",t.payload),e.loading=!1,e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.error=null,console.log("✅ Redux: Auth state updated - isAuthenticated:",!0)}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Login failed"}).addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.error=null}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Registration failed"}).addCase(i.fulfilled,(e,t)=>{console.log("\uD83D\uDC64 Redux: fetchUserProfile.fulfilled, user data:",t.payload),e.user=t.payload.user,e.isAuthenticated=!0}).addCase(i.rejected,e=>{e.user=null,e.token=null,e.isAuthenticated=!1,a.y.logout()})}}),{logout:d,clearError:u,setCredentials:c,initializeAuth:h}=l.actions,m=l.reducer},88464:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>d});var o=r(37413),a=r(7339),s=r.n(a);r(61135);var n=r(37818),i=r(78046),l=r(67990);let d={title:"Staff Management Tool",description:"Modern staff management application"};function u({children:e}){return(0,o.jsxs)("html",{lang:"en",children:[(0,o.jsx)("head",{children:(0,o.jsx)("meta",{name:"emotion-insertion-point",content:""})}),(0,o.jsx)("body",{className:s().className,children:(0,o.jsx)(n.StoreProvider,{children:(0,o.jsxs)(i.ThemeProvider,{children:[(0,o.jsx)(l.AuthInitializer,{}),e]})})})]})}},98192:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))}};