(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{1457:(e,t,o)=>{"use strict";o.d(t,{y:()=>r});var s=o(3464);let a="http://localhost:5001/api",n=s.A.create({baseURL:a,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let r={async login(e){console.log("\uD83C\uDF10 AuthService: Making API call to:","".concat(a,"/auth/login")),console.log("\uD83D\uDCE7 AuthService: Sending credentials:",{email:e.email,password:"***"});try{let t=await n.post("/auth/login",e);return console.log("\uD83D\uDCE1 AuthService: API response received:",t.data),console.log("✅ AuthService: Response status:",t.status),t.data.token&&(localStorage.setItem("token",t.data.token),console.log("\uD83D\uDCBE AuthService: Token saved to localStorage"),document.cookie="token=".concat(t.data.token,"; path=/; max-age=").concat(86400),console.log("\uD83C\uDF6A AuthService: Token saved to cookies")),t.data}catch(n){var t,o,s,r,l;console.error("\uD83D\uDEA8 AuthService: API call failed:",n),console.error("\uD83D\uDCC4 Error response data:",null==(t=n.response)?void 0:t.data),console.error("\uD83D\uDD22 Error status:",null==(o=n.response)?void 0:o.status),console.error("\uD83D\uDD17 Error config:",n.config),console.error("\uD83D\uDCA5 Full error object:",n);let e=(null==(r=n.response)||null==(s=r.data)?void 0:s.message)||n.message||"Login failed",a=(null==(l=n.response)?void 0:l.status)||"Unknown";throw console.error("\uD83C\uDFAF Throwing error with message:",e,"status:",a),Error("".concat(e," (Status: ").concat(a,")"))}},async register(e){let t=await n.post("/auth/register",e);return t.data.token&&(localStorage.setItem("token",t.data.token),document.cookie="token=".concat(t.data.token,"; path=/; max-age=").concat(86400)),t.data},getProfile:async()=>(await n.get("/auth/profile")).data,logout(){localStorage.removeItem("token"),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},getToken:()=>localStorage.getItem("token")}},7152:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>h});var s=o(5155),a=o(2115),n=o(7217),r=o(8407),l=o(1116),c=o(4581),i=o(8534),d=o(2302),u=o(1457);function h(){let[e,t]=(0,a.useState)(null),[o,h]=(0,a.useState)(""),[g,p]=(0,a.useState)(!1),m=async()=>{p(!0),h(""),t(null);try{console.log("\uD83E\uDDEA Testing API connection...");let e=await fetch("http://localhost:5001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"test@example.com",password:"password123"})});console.log("\uD83D\uDCE1 Raw response:",e),console.log("✅ Response status:",e.status),console.log("\uD83D\uDCCB Response headers:",Object.fromEntries(e.headers.entries()));let o=await e.json();console.log("\uD83D\uDCC4 Response data:",o),t({status:e.status,statusText:e.statusText,data:o})}catch(e){console.error("\uD83D\uDCA5 Test connection failed:",e),h(e.message)}finally{p(!1)}},v=async()=>{p(!0),h(""),t(null);try{console.log("\uD83E\uDDEA Testing AuthService...");let e=await u.y.login({email:"test@example.com",password:"password123"});console.log("\uD83D\uDCE1 AuthService response:",e),t({authService:e})}catch(e){console.error("\uD83D\uDCA5 AuthService test failed:",e),h(e.message)}finally{p(!1)}};return(0,s.jsx)(n.A,{maxWidth:"md",sx:{mt:4},children:(0,s.jsxs)(r.A,{elevation:3,sx:{p:4},children:[(0,s.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"API Debug Page"}),(0,s.jsxs)(c.A,{sx:{mb:3},children:[(0,s.jsx)(i.A,{variant:"contained",onClick:m,disabled:g,sx:{mr:2},children:"Test Raw Fetch"}),(0,s.jsx)(i.A,{variant:"outlined",onClick:v,disabled:g,children:"Test AuthService"})]}),g&&(0,s.jsx)(d.A,{severity:"info",sx:{mb:2},children:"Testing API connection..."}),o&&(0,s.jsxs)(d.A,{severity:"error",sx:{mb:2},children:[(0,s.jsx)("strong",{children:"Error:"})," ",o]}),e&&(0,s.jsxs)(c.A,{sx:{mt:2},children:[(0,s.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Result:"}),(0,s.jsx)(c.A,{component:"pre",sx:{bgcolor:"grey.100",p:2,borderRadius:1,overflow:"auto",fontSize:"0.875rem"},children:JSON.stringify(e,null,2)})]}),(0,s.jsxs)(c.A,{sx:{mt:3},children:[(0,s.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Environment Info:"}),(0,s.jsxs)(l.A,{variant:"body2",children:["API URL: ","http://localhost:5001/api"]}),(0,s.jsxs)(l.A,{variant:"body2",children:["Current Host: ",window.location.origin]})]})]})})}},9406:(e,t,o)=>{Promise.resolve().then(o.bind(o,7152))}},e=>{var t=t=>e(e.s=t);e.O(0,[416,903,464,921,441,684,358],()=>t(9406)),_N_E=e.O()}]);