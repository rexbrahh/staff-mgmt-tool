(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{4708:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var r=a(5155),s=a(2115),l=a(5695),n=a(785),o=a(4581),i=a(1116),c=a(2596),d=a(7472),u=a(5955),h=a(680),m=a(186),g=a(7515);let x=(0,g.A)((0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=a(5170),A=a(870);function v(e){return(0,A.Ay)("MuiAvatar",e)}(0,p.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var y=a(7798);let j=e=>{let{classes:t,variant:a,colorDefault:r}=e;return(0,d.A)({root:["root",a,r&&"colorDefault"],img:["img"],fallback:["fallback"]},v,t)},f=(0,u.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})((0,h.A)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}})),b=(0,u.Ay)("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),k=(0,u.Ay)(x,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"}),N=s.forwardRef(function(e,t){let a=(0,m.b)({props:e,name:"MuiAvatar"}),{alt:l,children:n,className:o,component:i="div",slots:d={},slotProps:u={},imgProps:h,sizes:g,src:x,srcSet:p,variant:A="circular",...v}=a,N=null,w={...a,component:i,variant:A},C=function(e){let{crossOrigin:t,referrerPolicy:a,src:r,srcSet:l}=e,[n,o]=s.useState(!1);return s.useEffect(()=>{if(!r&&!l)return;o(!1);let e=!0,s=new Image;return s.onload=()=>{e&&o("loaded")},s.onerror=()=>{e&&o("error")},s.crossOrigin=t,s.referrerPolicy=a,s.src=r,l&&(s.srcset=l),()=>{e=!1}},[t,a,r,l]),n}({...h,..."function"==typeof u.img?u.img(w):u.img,src:x,srcSet:p}),z=x||p,P=z&&"error"!==C;w.colorDefault=!P,delete w.ownerState;let S=j(w),[M,R]=(0,y.A)("root",{ref:t,className:(0,c.A)(S.root,o),elementType:f,externalForwardedProps:{slots:d,slotProps:u,component:i,...v},ownerState:w}),[D,T]=(0,y.A)("img",{className:S.img,elementType:b,externalForwardedProps:{slots:d,slotProps:{img:{...h,...u.img}}},additionalProps:{alt:l,src:x,srcSet:p,sizes:g},ownerState:w}),[V,H]=(0,y.A)("fallback",{className:S.fallback,elementType:k,externalForwardedProps:{slots:d,slotProps:u},shouldForwardComponentProp:!0,ownerState:w});return N=P?(0,r.jsx)(D,{...T}):n||0===n?n:z&&l?l[0]:(0,r.jsx)(V,{...H}),(0,r.jsx)(M,{...R,children:N})});var w=a(8534),C=a(1218),z=a(6632);let P=(0,g.A)((0,r.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),S=(0,g.A)((0,r.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),M=(0,g.A)((0,r.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),R=(0,g.A)([(0,r.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,r.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule");var D=a(7335),T=a(8284);function V(){let{user:e,isAuthenticated:t}=(0,D.GV)(e=>e.auth),a=(0,D.jL)(),c=(0,l.useRouter)();return((0,s.useEffect)(()=>{t||c.push("/login")},[t,c]),t&&e)?(0,r.jsxs)(n.A,{maxWidth:"lg",className:"py-8",children:[(0,r.jsxs)(o.A,{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{variant:"h3",component:"h1",className:"text-gray-800",children:"Dashboard"}),(0,r.jsxs)(i.A,{variant:"h6",className:"text-gray-600",children:["Welcome back, ",e.firstName," ",e.lastName]})]}),(0,r.jsxs)(o.A,{className:"flex items-center gap-4",children:[(0,r.jsxs)(N,{className:"bg-blue-500",children:[e.firstName[0],e.lastName[0]]}),(0,r.jsx)(w.A,{variant:"outlined",onClick:()=>{a((0,T.ri)()),c.push("/")},children:"Logout"})]})]}),(0,r.jsx)(C.A,{className:"mb-8",children:(0,r.jsxs)(z.A,{children:[(0,r.jsx)(i.A,{variant:"h6",className:"mb-4",children:"Your Profile"}),(0,r.jsxs)(o.A,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{variant:"body2",className:"text-gray-600",children:"Email"}),(0,r.jsx)(i.A,{variant:"body1",children:e.email})]}),(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{variant:"body2",className:"text-gray-600",children:"Role"}),(0,r.jsx)(i.A,{variant:"body1",className:"capitalize",children:e.role.toLowerCase()})]}),(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{variant:"body2",className:"text-gray-600",children:"Status"}),(0,r.jsx)(i.A,{variant:"body1",className:e.isActive?"text-green-600":"text-red-600",children:e.isActive?"Active":"Inactive"})]})]})]})}),(0,r.jsx)(i.A,{variant:"h5",className:"mb-4",children:"Quick Actions"}),(0,r.jsxs)(o.A,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(C.A,{className:"h-full cursor-pointer hover:shadow-lg transition-shadow",children:(0,r.jsxs)(z.A,{className:"text-center p-6",children:[(0,r.jsx)(P,{className:"text-4xl text-blue-500 mb-2"}),(0,r.jsx)(i.A,{variant:"h6",className:"mb-2",children:"Overview"}),(0,r.jsx)(i.A,{variant:"body2",className:"text-gray-600",children:"View system overview and statistics"})]})}),(0,r.jsx)(C.A,{className:"h-full cursor-pointer hover:shadow-lg transition-shadow",children:(0,r.jsxs)(z.A,{className:"text-center p-6",children:[(0,r.jsx)(S,{className:"text-4xl text-green-500 mb-2"}),(0,r.jsx)(i.A,{variant:"h6",className:"mb-2",children:"Team"}),(0,r.jsx)(i.A,{variant:"body2",className:"text-gray-600",children:"Manage team members and roles"})]})}),(0,r.jsx)(C.A,{className:"h-full cursor-pointer hover:shadow-lg transition-shadow",children:(0,r.jsxs)(z.A,{className:"text-center p-6",children:[(0,r.jsx)(M,{className:"text-4xl text-purple-500 mb-2"}),(0,r.jsx)(i.A,{variant:"h6",className:"mb-2",children:"Projects"}),(0,r.jsx)(i.A,{variant:"body2",className:"text-gray-600",children:"Manage projects and assignments"})]})}),(0,r.jsx)(C.A,{className:"h-full cursor-pointer hover:shadow-lg transition-shadow",children:(0,r.jsxs)(z.A,{className:"text-center p-6",children:[(0,r.jsx)(R,{className:"text-4xl text-orange-500 mb-2"}),(0,r.jsx)(i.A,{variant:"h6",className:"mb-2",children:"Schedule"}),(0,r.jsx)(i.A,{variant:"body2",className:"text-gray-600",children:"View schedules and attendance"})]})})]}),(0,r.jsx)(C.A,{children:(0,r.jsxs)(z.A,{children:[(0,r.jsx)(i.A,{variant:"h6",className:"mb-4",children:"Recent Activity"}),(0,r.jsx)(i.A,{variant:"body2",className:"text-gray-600",children:"No recent activity to display. Start by exploring the quick actions above."})]})})]}):null}},6507:(e,t,a)=>{Promise.resolve().then(a.bind(a,4708))},7335:(e,t,a)=>{"use strict";a.d(t,{GV:()=>l,jL:()=>s});var r=a(4540);let s=()=>(0,r.wA)(),l=r.d4},8284:(e,t,a)=>{"use strict";a.d(t,{ET:()=>g,Ay:()=>p,iD:()=>c,ri:()=>m});var r=a(1990),s=a(3464);let l="http://localhost:5001/api";class n{async login(e){let t=(await s.A.post("".concat(l,"/auth/login"),e)).data;return t.token&&this.setToken(t.token),t}async register(e){let t=(await s.A.post("".concat(l,"/auth/register"),e)).data;return t.token&&this.setToken(t.token),t}async getProfile(){return(await s.A.get("".concat(l,"/auth/profile"),{headers:this.getAuthHeaders()})).data}logout(){this.token=null,localStorage.removeItem("token")}getCurrentToken(){return this.token}isAuthenticated(){return!!this.token}setToken(e){this.token=e,localStorage.setItem("token",e)}getAuthHeaders(){return{Authorization:"Bearer ".concat(this.token)}}setupInterceptors(){s.A.interceptors.request.use(e=>(this.token&&(e.headers.Authorization="Bearer ".concat(this.token)),e),e=>Promise.reject(e)),s.A.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(this.logout(),window.location.href="/login"),Promise.reject(e)})}constructor(){this.token=null,this.token=localStorage.getItem("token"),this.setupInterceptors()}}let o=new n,i={user:null,token:o.getCurrentToken(),isAuthenticated:o.isAuthenticated(),loading:!1,error:null},c=(0,r.zD)("auth/login",async(e,t)=>{let{rejectWithValue:a}=t;try{return await o.login(e)}catch(e){var r,s;return a((null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Login failed")}}),d=(0,r.zD)("auth/register",async(e,t)=>{let{rejectWithValue:a}=t;try{return await o.register(e)}catch(e){var r,s;return a((null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Registration failed")}}),u=(0,r.zD)("auth/getProfile",async(e,t)=>{let{rejectWithValue:a}=t;try{return await o.getProfile()}catch(e){var r,s;return a((null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Failed to load profile")}}),h=(0,r.Z0)({name:"auth",initialState:i,reducers:{logout:e=>{o.logout(),e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null},clearError:e=>{e.error=null},setCredentials:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0}},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.loading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token,e.error=null}).addCase(c.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1,e.user=null,e.token=null}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token,e.error=null}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1,e.user=null,e.token=null}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload,e.error=null}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{logout:m,clearError:g,setCredentials:x}=h.actions,p=h.reducer}},e=>{var t=t=>e(e.s=t);e.O(0,[461,585,605,948,441,684,358],()=>t(6507)),_N_E=e.O()}]);