{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/lib/services/auth.service.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001/api';\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add token to requests if available\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nexport const authService = {\n  async login(credentials: { email: string; password: string }) {\n    console.log('🌐 AuthService: Making API call to:', `${API_URL}/auth/login`);\n    console.log('📧 AuthService: Sending credentials:', { email: credentials.email, password: '***' });\n    \n    try {\n      const response = await api.post('/auth/login', credentials);\n      console.log('📡 AuthService: API response received:', response.data);\n      console.log('✅ AuthService: Response status:', response.status);\n      \n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        console.log('💾 AuthService: Token saved to localStorage');\n        \n        // Also set token in cookies for middleware\n        document.cookie = `token=${response.data.token}; path=/; max-age=${24 * 60 * 60}`; // 24 hours\n        console.log('🍪 AuthService: Token saved to cookies');\n      }\n      \n      return response.data;\n    } catch (error: any) {\n      console.error('🚨 AuthService: API call failed:', error);\n      console.error('📄 Error response data:', error.response?.data);\n      console.error('🔢 Error status:', error.response?.status);\n      console.error('🔗 Error config:', error.config);\n      console.error('💥 Full error object:', error);\n      \n      // Re-throw with more specific error information\n      const errorMessage = error.response?.data?.message || error.message || 'Login failed';\n      const errorStatus = error.response?.status || 'Unknown';\n      \n      console.error('🎯 Throwing error with message:', errorMessage, 'status:', errorStatus);\n      \n      throw new Error(`${errorMessage} (Status: ${errorStatus})`);\n    }\n  },\n\n  async register(userData: { email: string; password: string; firstName: string; lastName: string }) {\n    const response = await api.post('/auth/register', userData);\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      // Also set token in cookies for middleware\n      document.cookie = `token=${response.data.token}; path=/; max-age=${24 * 60 * 60}`; // 24 hours\n    }\n    return response.data;\n  },\n\n  async getProfile() {\n    const response = await api.get('/auth/profile');\n    return response.data;\n  },\n\n  logout() {\n    localStorage.removeItem('token');\n    // Also remove token from cookies\n    document.cookie = 'token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';\n  },\n\n  getToken() {\n    return localStorage.getItem('token');\n  },\n};"],"names":[],"mappings":";;;AAEgB;AAFhB;;AAEA,MAAM,UAAU,iEAAmC;AAEnD,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,qCAAqC;AACrC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;AAEO,MAAM,cAAc;IACzB,MAAM,OAAM,WAAgD;QAC1D,QAAQ,GAAG,CAAC,uCAAuC,GAAG,QAAQ,WAAW,CAAC;QAC1E,QAAQ,GAAG,CAAC,wCAAwC;YAAE,OAAO,YAAY,KAAK;YAAE,UAAU;QAAM;QAEhG,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,eAAe;YAC/C,QAAQ,GAAG,CAAC,0CAA0C,SAAS,IAAI;YACnE,QAAQ,GAAG,CAAC,mCAAmC,SAAS,MAAM;YAE9D,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE;gBACvB,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK;gBACjD,QAAQ,GAAG,CAAC;gBAEZ,2CAA2C;gBAC3C,SAAS,MAAM,GAAG,CAAC,MAAM,EAAE,SAAS,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,KAAK,IAAI,EAAE,WAAW;gBAC9F,QAAQ,GAAG,CAAC;YACd;YAEA,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,oCAAoC;YAClD,QAAQ,KAAK,CAAC,2BAA2B,MAAM,QAAQ,EAAE;YACzD,QAAQ,KAAK,CAAC,oBAAoB,MAAM,QAAQ,EAAE;YAClD,QAAQ,KAAK,CAAC,oBAAoB,MAAM,MAAM;YAC9C,QAAQ,KAAK,CAAC,yBAAyB;YAEvC,gDAAgD;YAChD,MAAM,eAAe,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;YACvE,MAAM,cAAc,MAAM,QAAQ,EAAE,UAAU;YAE9C,QAAQ,KAAK,CAAC,mCAAmC,cAAc,WAAW;YAE1E,MAAM,IAAI,MAAM,GAAG,aAAa,UAAU,EAAE,YAAY,CAAC,CAAC;QAC5D;IACF;IAEA,MAAM,UAAS,QAAkF;QAC/F,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,kBAAkB;QAClD,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE;YACvB,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK;YACjD,2CAA2C;YAC3C,SAAS,MAAM,GAAG,CAAC,MAAM,EAAE,SAAS,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,KAAK,IAAI,EAAE,WAAW;QAChG;QACA,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM;QACJ,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACtB;IAEA;QACE,aAAa,UAAU,CAAC;QACxB,iCAAiC;QACjC,SAAS,MAAM,GAAG;IACpB;IAEA;QACE,OAAO,aAAa,OAAO,CAAC;IAC9B;AACF","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/lib/features/auth/authSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { authService } from '../../services/auth.service';\n\nexport interface User {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n}\n\ninterface AuthState {\n  user: User | null;\n  token: string | null;\n  isAuthenticated: boolean;\n  loading: boolean;\n  error: string | null;\n}\n\nconst initialState: AuthState = {\n  user: null,\n  token: null,\n  isAuthenticated: false,\n  loading: false,\n  error: null,\n};\n\nexport const loginUser = createAsyncThunk(\n  'auth/login',\n  async (credentials: { email: string; password: string }) => {\n    const response = await authService.login(credentials);\n    return response;\n  }\n);\n\nexport const registerUser = createAsyncThunk(\n  'auth/register',\n  async (userData: { email: string; password: string; firstName: string; lastName: string }) => {\n    const response = await authService.register(userData);\n    return response;\n  }\n);\n\nexport const fetchUserProfile = createAsyncThunk(\n  'auth/fetchProfile',\n  async () => {\n    const response = await authService.getProfile();\n    return response;\n  }\n);\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout: (state) => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n      state.error = null;\n      authService.logout();\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    setCredentials: (state, action: PayloadAction<{ user: User; token: string }>) => {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isAuthenticated = true;\n      state.error = null;\n    },\n    initializeAuth: (state, action: PayloadAction<{ token: string | null }>) => {\n      console.log('🔧 Redux: initializeAuth called with token:', action.payload.token ? 'YES' : 'NO');\n      if (action.payload.token) {\n        state.token = action.payload.token;\n        state.isAuthenticated = true;\n        console.log('✅ Redux: Auth initialized with token');\n      } else {\n        console.log('❌ Redux: No token found, user not authenticated');\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loginUser.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(loginUser.fulfilled, (state, action) => {\n        console.log('🔄 Redux: loginUser.fulfilled action received:', action.payload);\n        state.loading = false;\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n        state.isAuthenticated = true;\n        state.error = null;\n        console.log('✅ Redux: Auth state updated - isAuthenticated:', true);\n      })\n      .addCase(loginUser.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Login failed';\n      })\n      .addCase(registerUser.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(registerUser.fulfilled, (state, action) => {\n        state.loading = false;\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n        state.isAuthenticated = true;\n        state.error = null;\n      })\n      .addCase(registerUser.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Registration failed';\n      })\n      .addCase(fetchUserProfile.fulfilled, (state, action) => {\n        console.log('👤 Redux: fetchUserProfile.fulfilled, user data:', action.payload);\n        state.user = action.payload.user;\n        state.isAuthenticated = true;\n      })\n      .addCase(fetchUserProfile.rejected, (state) => {\n        // If fetching profile fails, clear authentication\n        state.user = null;\n        state.token = null;\n        state.isAuthenticated = false;\n        authService.logout();\n      });\n  },\n});\n\nexport const { logout, clearError, setCredentials, initializeAuth } = authSlice.actions;\nexport default authSlice.reducer;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/lib/features/tasks/taskSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001/api';\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_URL,\n});\n\n// Add token to requests\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nexport interface Task {\n  id: string;\n  title: string;\n  description?: string;\n  status: 'TODO' | 'IN_PROGRESS' | 'REVIEW' | 'DONE';\n  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  dueDate?: string;\n  completedAt?: string;\n  createdAt: string;\n  updatedAt: string;\n  projectId?: string;\n  assignedToId?: string;\n  createdById: string;\n  assignedTo?: {\n    id: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n  };\n  createdBy: {\n    id: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n  };\n  project?: {\n    id: string;\n    name: string;\n    status: string;\n  };\n}\n\nexport interface TaskFilters {\n  status?: string;\n  priority?: string;\n  assignedToId?: string;\n  createdById?: string;\n  projectId?: string;\n}\n\ninterface TaskState {\n  tasks: Task[];\n  loading: boolean;\n  error: string | null;\n  total: number;\n  page: number;\n  limit: number;\n  filters: TaskFilters;\n}\n\nconst initialState: TaskState = {\n  tasks: [],\n  loading: false,\n  error: null,\n  total: 0,\n  page: 1,\n  limit: 10,\n  filters: {},\n};\n\n// Async thunks\nexport const fetchTasks = createAsyncThunk(\n  'tasks/fetchTasks',\n  async (params: { page?: number; limit?: number; filters?: TaskFilters } = {}) => {\n    const { page = 1, limit = 10, filters = {} } = params;\n    const queryParams = new URLSearchParams({\n      page: page.toString(),\n      limit: limit.toString(),\n      ...filters,\n    });\n    \n    const response = await api.get(`/tasks?${queryParams}`);\n    return response.data;\n  }\n);\n\nexport const createTask = createAsyncThunk(\n  'tasks/createTask',\n  async (taskData: Partial<Task>) => {\n    const response = await api.post('/tasks', taskData);\n    return response.data;\n  }\n);\n\nexport const updateTask = createAsyncThunk(\n  'tasks/updateTask',\n  async ({ id, updates }: { id: string; updates: Partial<Task> }) => {\n    const response = await api.put(`/tasks/${id}`, updates);\n    return response.data;\n  }\n);\n\nexport const deleteTask = createAsyncThunk(\n  'tasks/deleteTask',\n  async (id: string) => {\n    await api.delete(`/tasks/${id}`);\n    return id;\n  }\n);\n\nexport const fetchTaskStats = createAsyncThunk(\n  'tasks/fetchTaskStats',\n  async (userId?: string) => {\n    const queryParams = userId ? `?userId=${userId}` : '';\n    const response = await api.get(`/tasks/stats${queryParams}`);\n    return response.data;\n  }\n);\n\nconst taskSlice = createSlice({\n  name: 'tasks',\n  initialState,\n  reducers: {\n    setFilters: (state, action: PayloadAction<TaskFilters>) => {\n      state.filters = action.payload;\n      state.page = 1; // Reset to first page when filters change\n    },\n    setPage: (state, action: PayloadAction<number>) => {\n      state.page = action.payload;\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Fetch tasks\n      .addCase(fetchTasks.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchTasks.fulfilled, (state, action) => {\n        state.loading = false;\n        state.tasks = action.payload.data;\n        state.total = action.payload.pagination.total;\n        state.page = action.payload.pagination.page;\n      })\n      .addCase(fetchTasks.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to fetch tasks';\n      })\n      // Create task\n      .addCase(createTask.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(createTask.fulfilled, (state, action) => {\n        state.loading = false;\n        state.tasks.unshift(action.payload.data); // Add to beginning\n        state.total += 1;\n      })\n      .addCase(createTask.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to create task';\n      })\n      // Update task\n      .addCase(updateTask.fulfilled, (state, action) => {\n        const index = state.tasks.findIndex(task => task.id === action.payload.data.id);\n        if (index !== -1) {\n          state.tasks[index] = action.payload.data;\n        }\n      })\n      .addCase(updateTask.rejected, (state, action) => {\n        state.error = action.error.message || 'Failed to update task';\n      })\n      // Delete task\n      .addCase(deleteTask.fulfilled, (state, action) => {\n        state.tasks = state.tasks.filter(task => task.id !== action.payload);\n        state.total -= 1;\n      })\n      .addCase(deleteTask.rejected, (state, action) => {\n        state.error = action.error.message || 'Failed to delete task';\n      });\n  },\n});\n\nexport const { setFilters, setPage, clearError } = taskSlice.actions;\nexport default taskSlice.reducer;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/lib/features/team/teamSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n\n// Types\nexport interface TeamMember {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: 'ADMIN' | 'MANAGER' | 'EMPLOYEE';\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n  staffProfile?: StaffProfile;\n  assignedTasks?: Array<Record<string, unknown>>;\n  createdTasks?: Array<Record<string, unknown>>;\n}\n\nexport interface StaffProfile {\n  id: string;\n  userId: string;\n  department?: string;\n  position?: string;\n  phoneNumber?: string;\n  address?: string;\n  hireDate?: string;\n  salary?: number;\n  skills: string[];\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface TeamFilters {\n  role?: string;\n  department?: string;\n  search?: string;\n  isActive?: boolean;\n}\n\nexport interface TeamStats {\n  totalMembers: number;\n  activeMembers: number;\n  inactiveMembers: number;\n  departmentBreakdown: Array<{ department: string; count: number }>;\n  roleBreakdown: Array<{ role: string; count: number }>;\n}\n\nexport interface CreateTeamMemberData {\n  email: string;\n  password: string;\n  firstName: string;\n  lastName: string;\n  role?: 'ADMIN' | 'MANAGER' | 'EMPLOYEE';\n  staffProfile?: {\n    department?: string;\n    position?: string;\n    phoneNumber?: string;\n    address?: string;\n    hireDate?: string;\n    salary?: number;\n    skills?: string[];\n  };\n}\n\nexport interface UpdateTeamMemberData {\n  firstName?: string;\n  lastName?: string;\n  role?: 'ADMIN' | 'MANAGER' | 'EMPLOYEE';\n  isActive?: boolean;\n  staffProfile?: {\n    department?: string;\n    position?: string;\n    phoneNumber?: string;\n    address?: string;\n    hireDate?: string;\n    salary?: number;\n    skills?: string[];\n  };\n}\n\ninterface TeamState {\n  members: TeamMember[];\n  stats: TeamStats | null;\n  loading: boolean;\n  error: string | null;\n  page: number;\n  limit: number;\n  total: number;\n  filters: TeamFilters;\n}\n\nconst initialState: TeamState = {\n  members: [],\n  stats: null,\n  loading: false,\n  error: null,\n  page: 1,\n  limit: 10,\n  total: 0,\n  filters: {},\n};\n\n// Helper function to get auth header\nconst getAuthHeader = () => {\n  const token = localStorage.getItem('token');\n  return token ? { Authorization: `Bearer ${token}` } : {};\n};\n\n// Async thunks\nexport const fetchTeamMembers = createAsyncThunk(\n  'team/fetchTeamMembers',\n  async (params: { page?: number; limit?: number; filters?: TeamFilters } = {}) => {\n    const { page = 1, limit = 10, filters = {} } = params;\n    const queryParams = new URLSearchParams({\n      page: page.toString(),\n      limit: limit.toString(),\n      ...Object.fromEntries(Object.entries(filters).filter(([, value]) => value !== undefined && value !== '')),\n    });\n\n    const response = await axios.get(`${API_BASE_URL}/api/team?${queryParams}`, {\n      headers: getAuthHeader(),\n    });\n    return response.data;\n  }\n);\n\nexport const fetchTeamMemberById = createAsyncThunk(\n  'team/fetchTeamMemberById',\n  async (id: string) => {\n    const response = await axios.get(`${API_BASE_URL}/api/team/${id}`, {\n      headers: getAuthHeader(),\n    });\n    return response.data;\n  }\n);\n\nexport const createTeamMember = createAsyncThunk(\n  'team/createTeamMember',\n  async (memberData: CreateTeamMemberData) => {\n    const response = await axios.post(`${API_BASE_URL}/api/team`, memberData, {\n      headers: getAuthHeader(),\n    });\n    return response.data;\n  }\n);\n\nexport const updateTeamMember = createAsyncThunk(\n  'team/updateTeamMember',\n  async ({ id, updates }: { id: string; updates: UpdateTeamMemberData }) => {\n    const response = await axios.put(`${API_BASE_URL}/api/team/${id}`, updates, {\n      headers: getAuthHeader(),\n    });\n    return response.data;\n  }\n);\n\nexport const deleteTeamMember = createAsyncThunk(\n  'team/deleteTeamMember',\n  async (id: string) => {\n    await axios.delete(`${API_BASE_URL}/api/team/${id}`, {\n      headers: getAuthHeader(),\n    });\n    return id;\n  }\n);\n\nexport const fetchTeamStats = createAsyncThunk(\n  'team/fetchTeamStats',\n  async () => {\n    const response = await axios.get(`${API_BASE_URL}/api/team/stats`, {\n      headers: getAuthHeader(),\n    });\n    return response.data;\n  }\n);\n\nexport const fetchTeamMembersByDepartment = createAsyncThunk(\n  'team/fetchTeamMembersByDepartment',\n  async (department: string) => {\n    const response = await axios.get(`${API_BASE_URL}/api/team/department/${department}`, {\n      headers: getAuthHeader(),\n    });\n    return response.data;\n  }\n);\n\n// Slice\nconst teamSlice = createSlice({\n  name: 'team',\n  initialState,\n  reducers: {\n    setPage: (state, action: PayloadAction<number>) => {\n      state.page = action.payload;\n    },\n    setLimit: (state, action: PayloadAction<number>) => {\n      state.limit = action.payload;\n    },\n    setFilters: (state, action: PayloadAction<TeamFilters>) => {\n      state.filters = action.payload;\n      state.page = 1; // Reset to first page when filters change\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    clearStats: (state) => {\n      state.stats = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Fetch team members\n      .addCase(fetchTeamMembers.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchTeamMembers.fulfilled, (state, action) => {\n        state.loading = false;\n        state.members = action.payload.data;\n        state.total = action.payload.pagination.total;\n        state.page = action.payload.pagination.page;\n        state.limit = action.payload.pagination.limit;\n      })\n      .addCase(fetchTeamMembers.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to fetch team members';\n      })\n\n      // Fetch team member by ID\n      .addCase(fetchTeamMemberById.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchTeamMemberById.fulfilled, (state, action) => {\n        state.loading = false;\n        // Update the member in the list if it exists\n        const index = state.members.findIndex(member => member.id === action.payload.data.id);\n        if (index !== -1) {\n          state.members[index] = action.payload.data;\n        }\n      })\n      .addCase(fetchTeamMemberById.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to fetch team member';\n      })\n\n      // Create team member\n      .addCase(createTeamMember.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(createTeamMember.fulfilled, (state, action) => {\n        state.loading = false;\n        state.members.unshift(action.payload.data);\n        state.total += 1;\n      })\n      .addCase(createTeamMember.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to create team member';\n      })\n\n      // Update team member\n      .addCase(updateTeamMember.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(updateTeamMember.fulfilled, (state, action) => {\n        state.loading = false;\n        const index = state.members.findIndex(member => member.id === action.payload.data.id);\n        if (index !== -1) {\n          state.members[index] = action.payload.data;\n        }\n      })\n      .addCase(updateTeamMember.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to update team member';\n      })\n\n      // Delete team member\n      .addCase(deleteTeamMember.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(deleteTeamMember.fulfilled, (state, action) => {\n        state.loading = false;\n        state.members = state.members.filter(member => member.id !== action.payload);\n        state.total -= 1;\n      })\n      .addCase(deleteTeamMember.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to delete team member';\n      })\n\n      // Fetch team stats\n      .addCase(fetchTeamStats.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchTeamStats.fulfilled, (state, action) => {\n        state.loading = false;\n        state.stats = action.payload.data;\n      })\n      .addCase(fetchTeamStats.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to fetch team statistics';\n      })\n\n      // Fetch team members by department\n      .addCase(fetchTeamMembersByDepartment.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchTeamMembersByDepartment.fulfilled, (state) => {\n        state.loading = false;\n        // This doesn't update the main members list, just returns data for specific use cases\n      })\n      .addCase(fetchTeamMembersByDepartment.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to fetch team members by department';\n      });\n  },\n});\n\nexport const { setPage, setLimit, setFilters, clearError, clearStats } = teamSlice.actions;\nexport default teamSlice.reducer;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/lib/store.ts"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\nimport authReducer from './features/auth/authSlice';\nimport taskReducer from './features/tasks/taskSlice';\nimport teamReducer from './features/team/teamSlice';\n\nexport const makeStore = () => {\n  return configureStore({\n    reducer: {\n      auth: authReducer,\n      tasks: taskReducer,\n      team: teamReducer,\n    },\n  });\n};\n\nexport type AppStore = ReturnType<typeof makeStore>;\nexport type RootState = ReturnType<AppStore['getState']>;\nexport type AppDispatch = AppStore['dispatch'];"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,YAAY;IACvB,OAAO,CAAA,GAAA,8LAAA,CAAA,iBAAc,AAAD,EAAE;QACpB,SAAS;YACP,MAAM,8IAAA,CAAA,UAAW;YACjB,OAAO,+IAAA,CAAA,UAAW;YAClB,MAAM,8IAAA,CAAA,UAAW;QACnB;IACF;AACF","debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/providers/StoreProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useRef } from 'react';\nimport { Provider } from 'react-redux';\nimport { makeStore, AppStore } from '../lib/store';\n\nexport function StoreProvider({ children }: { children: React.ReactNode }) {\n  const storeRef = useRef<AppStore | undefined>(undefined);\n  if (!storeRef.current) {\n    storeRef.current = makeStore();\n  }\n\n  return <Provider store={storeRef.current}>{children}</Provider>;\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAwB;IAC9C,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,SAAS,OAAO,GAAG,CAAA,GAAA,sHAAA,CAAA,YAAS,AAAD;IAC7B;IAEA,qBAAO,6LAAC,4JAAA,CAAA,WAAQ;QAAC,OAAO,SAAS,OAAO;kBAAG;;;;;;AAC7C;GAPgB;KAAA","debugId":null}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/lib/emotion-cache.ts"],"sourcesContent":["import createCache from '@emotion/cache';\n\nconst isBrowser = typeof document !== 'undefined';\n\n// On the client side, Create a meta tag at the top of the <head> and set it as insertionPoint.\n// This assures that MUI styles are loaded first.\n// It allows developers to easily override MUI styles with other styling solutions, like CSS modules.\nexport default function createEmotionCache() {\n  let insertionPoint;\n\n  if (isBrowser) {\n    const emotionInsertionPoint = document.querySelector<HTMLMetaElement>(\n      'meta[name=\"emotion-insertion-point\"]',\n    );\n    insertionPoint = emotionInsertionPoint ?? undefined;\n  }\n\n  return createCache({ key: 'mui-style', insertionPoint });\n}"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,YAAY,OAAO,aAAa;AAKvB,SAAS;IACtB,IAAI;IAEJ,IAAI,WAAW;QACb,MAAM,wBAAwB,SAAS,aAAa,CAClD;QAEF,iBAAiB,yBAAyB;IAC5C;IAEA,OAAO,CAAA,GAAA,kMAAA,CAAA,UAAW,AAAD,EAAE;QAAE,KAAK;QAAa;IAAe;AACxD","debugId":null}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/providers/ThemeProvider.tsx"],"sourcesContent":["'use client';\n\nimport { ThemeProvider as MUIThemeProvider, createTheme } from '@mui/material/styles';\nimport { CssBaseline } from '@mui/material';\nimport { CacheProvider } from '@emotion/react';\nimport createEmotionCache from '../lib/emotion-cache';\nimport { useState } from 'react';\n\nconst theme = createTheme({\n  palette: {\n    mode: 'light',\n    primary: {\n      main: '#1976d2',\n    },\n    secondary: {\n      main: '#dc004e',\n    },\n  },\n});\n\n// Client-side cache, created on client side only\nconst clientSideEmotionCache = createEmotionCache();\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  const [emotionCache] = useState(clientSideEmotionCache);\n\n  return (\n    <CacheProvider value={emotionCache}>\n      <MUIThemeProvider theme={theme}>\n        <CssBaseline />\n        {children}\n      </MUIThemeProvider>\n    </CacheProvider>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQA,MAAM,QAAQ,CAAA,GAAA,8MAAA,CAAA,cAAW,AAAD,EAAE;IACxB,SAAS;QACP,MAAM;QACN,SAAS;YACP,MAAM;QACR;QACA,WAAW;YACT,MAAM;QACR;IACF;AACF;AAEA,iDAAiD;AACjD,MAAM,yBAAyB,CAAA,GAAA,iIAAA,CAAA,UAAkB,AAAD;AAEzC,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,MAAM,CAAC,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEhC,qBACE,6LAAC,sPAAA,CAAA,gBAAa;QAAC,OAAO;kBACpB,cAAA,6LAAC,kNAAA,CAAA,gBAAgB;YAAC,OAAO;;8BACvB,6LAAC,mNAAA,CAAA,cAAW;;;;;gBACX;;;;;;;;;;;;AAIT;GAXgB;KAAA","debugId":null}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/lib/hooks.ts"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport type { TypedUseSelectorHook } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;"],"names":[],"mappings":";;;;AAAA;;;AAIO,MAAM,iBAAiB;;IAAM,OAAA,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;AAAe;GAAhD;;QAAuB,4JAAA,CAAA,cAAW;;;AACxC,MAAM,iBAAkD,4JAAA,CAAA,cAAW","debugId":null}},
    {"offset": {"line": 735, "column": 0}, "map": {"version":3,"sources":["file:///Users/rexliu/staff-mgmt-tool/frontend/src/components/AuthInitializer.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useAppDispatch } from '../lib/hooks';\nimport { initializeAuth, fetchUserProfile } from '../lib/features/auth/authSlice';\n\nexport function AuthInitializer() {\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    // Only run on client side to avoid hydration mismatch\n    console.log('🔧 AuthInitializer: Checking localStorage for token...');\n    const token = localStorage.getItem('token');\n    console.log('🎟️ Found token:', token ? 'YES' : 'NO');\n    \n    dispatch(initializeAuth({ token }));\n    console.log('✅ AuthInitializer: Dispatched initializeAuth');\n    \n    // If we have a token, fetch the user profile\n    if (token) {\n      console.log('👤 AuthInitializer: Fetching user profile...');\n      dispatch(fetchUserProfile());\n    }\n  }, [dispatch]);\n\n  return null; // This component doesn't render anything\n}"],"names":[],"mappings":";;;AAEA;AACA;AACA;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,WAAW,CAAA,GAAA,sHAAA,CAAA,iBAAc,AAAD;IAE9B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,sDAAsD;YACtD,QAAQ,GAAG,CAAC;YACZ,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,QAAQ,GAAG,CAAC,oBAAoB,QAAQ,QAAQ;YAEhD,SAAS,CAAA,GAAA,8IAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE;YAAM;YAChC,QAAQ,GAAG,CAAC;YAEZ,6CAA6C;YAC7C,IAAI,OAAO;gBACT,QAAQ,GAAG,CAAC;gBACZ,SAAS,CAAA,GAAA,8IAAA,CAAA,mBAAgB,AAAD;YAC1B;QACF;oCAAG;QAAC;KAAS;IAEb,OAAO,MAAM,yCAAyC;AACxD;GApBgB;;QACG,sHAAA,CAAA,iBAAc;;;KADjB","debugId":null}}]
}